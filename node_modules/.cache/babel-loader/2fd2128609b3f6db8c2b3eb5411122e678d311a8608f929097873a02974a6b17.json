{"ast":null,"code":"export var BASE_URL='https://auth.nomoreparties.co';export function register(password,email){return fetch(\"\".concat(BASE_URL,\"/signup\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({'password':password,'email':email})}).then(function(response){return response.json();}).then(function(res){return res;}).catch(function(err){return console.log(err);});}export function authorize(password,email){return fetch(\"\".concat(BASE_URL,\"/signin\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({'password':password,'email':email})}).then(function(response){return response.json();}).then(function(data){if(data.token){localStorage.setItem('jwt',data.token);return data;}}).catch(function(err){return console.log(err);});}export function checkToken(token){return fetch(\"\".concat(BASE_URL,\"/users/me\"),{method:'GET',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(function(res){return res.json();}).then(function(data){return data;});}","map":{"version":3,"names":["BASE_URL","register","password","email","fetch","concat","method","headers","body","JSON","stringify","then","response","json","res","catch","err","console","log","authorize","data","token","localStorage","setItem","checkToken"],"sources":["/Users/igorkuznecov/dev/mesto-react/src/utils/auth.js"],"sourcesContent":["export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport function register(password, email) {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ 'password' : password , 'email' : email })\n  })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => console.log(err));\n}\n\nexport function authorize(password, email) {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ 'password' : password , 'email' : email })\n  })\n    .then((response => response.json()))\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        return data;\n      }\n    })\n    .catch(err => console.log(err));\n}\n\nexport function checkToken(token) {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n    .then(res => res.json())\n    .then(data => data);\n}\n"],"mappings":"AAAA,MAAO,IAAM,CAAAA,QAAQ,CAAG,+BAA+B,CAEvD,MAAO,SAAS,CAAAC,QAAQA,CAACC,QAAQ,CAAEC,KAAK,CAAE,CACxC,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAIL,QAAQ,YAAW,CACjCM,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAE,UAAU,CAAGR,QAAQ,CAAG,OAAO,CAAGC,KAAM,CAAC,CAClE,CAAC,CAAC,CACCQ,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,MAAO,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,CACxB,CAAC,CAAC,CACDF,IAAI,CAAC,SAACG,GAAG,CAAK,CACb,MAAO,CAAAA,GAAG,CACZ,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACrC,CAEA,MAAO,SAAS,CAAAG,SAASA,CAACjB,QAAQ,CAAEC,KAAK,CAAE,CACzC,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAIL,QAAQ,YAAW,CACjCM,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAE,UAAU,CAAGR,QAAQ,CAAG,OAAO,CAAGC,KAAM,CAAC,CAClE,CAAC,CAAC,CACCQ,IAAI,CAAE,SAAAC,QAAQ,QAAI,CAAAA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAAC,CAAC,CACnCF,IAAI,CAAC,SAACS,IAAI,CAAK,CACd,GAAIA,IAAI,CAACC,KAAK,CAAE,CACdC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAEH,IAAI,CAACC,KAAK,CAAC,CACvC,MAAO,CAAAD,IAAI,CACb,CACF,CAAC,CAAC,CACDL,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACnC,CAEA,MAAO,SAAS,CAAAQ,UAAUA,CAACH,KAAK,CAAE,CAChC,MAAO,CAAAjB,KAAK,IAAAC,MAAA,CAAIL,QAAQ,cAAa,CACnCM,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,WAAAF,MAAA,CAAYgB,KAAK,CAClC,CACF,CAAC,CAAC,CACCV,IAAI,CAAC,SAAAG,GAAG,QAAI,CAAAA,GAAG,CAACD,IAAI,CAAC,CAAC,GAAC,CACvBF,IAAI,CAAC,SAAAS,IAAI,QAAI,CAAAA,IAAI,GAAC,CACvB"},"metadata":{},"sourceType":"module","externalDependencies":[]}